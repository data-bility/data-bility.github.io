---
title: 간헐적 수요 패턴을 갖는 상품의 수요예측 문제
date: 2025-03-09 01:14:30 +09:00
categories: [career]
---
### [SSG.COM 기술블로그에 기고](https://medium.com/ssgtech/%EC%9D%B4%EB%B2%88-%EC%A3%BC%EC%97%90-%EB%82%9A%EC%8B%AF%EB%8C%80%EB%8A%94-%EB%AA%87-%EA%B0%9C%EA%B0%80-%ED%8C%94%EB%A6%B4%EA%B9%8C-b7eeb8dded13)했던 내용에 대한 회고
2024년 하반기 동안 내가 해결해야 하는 주요 문제는 <U>'수요 예측값이 존재함에도 불구하고, 결품이 발생하는 현상'</U> 이었다.
<br> 바꿔 말해, 수요 예측값이 수요를 과소예측함으로써 PP(Picking Packing)센터의 수요를 올바르게 예측하지 못하는 게 아니냐는 믿음(?) 불신(?)을 해결해야 했다.
<br><br>  예측 프로덕트를 맡은 사람의 입장에서는, RMSE, MAE, SMAPE 같은 지표를 바라보며 예측값의 정확도가 어떻고 저떻고 하고 있었지만,
그 값을 받아다 보조적인 도구로 사용을 하든, 아니면 정말 자동으로 발주할 값으로 직접 사용을 하는 User의 입장에서는
당장 이 값이 "낮아서(!)" 써먹질 못하겠다고 하는 상황이었다.
<br><br> 머신러닝 엔지니어가 된지 만 3년차 쯤, 기술적인 관점에서만 문제를 바라볼 것이 아니라 비즈니스적 시각을 가져야겠다는 생각을 처음으로 갖게 한 문제상황이자 환경이었다.
<br> 링크로 인용했던 당시의 글과 마찬가지로, 결과적으로 내가 선택한 방법은 Croston method라고 하는 케케묵은 수리적 모형이었다. 이 모형은 결과적으로 "기초모형 프로젝트" 라는 이름으로 프로젝트를 시작해, 모델 관점에서는 사후 평가에 의한 모델선택, 동적 파라미터 튜닝을 해볼 기회를 줬고, 엔지니어링적으로는 신규 오픈할 센터를 위해 기존 센터를 테스트 배드로 사용해보는 경험을 선사했다.
<br><br> 말했듯이, 이 모델은 케케묵은 것이다. 심지어는, 이 모델을 선택한 배경 자체가 '과소예측이 문제라면 과대예측해버리자' 는 단순 무식한 접근법을 사용했다.
<br>하지만, 결과적으로 모델은 점포가 신규 오픈한 상태라, SKU 단위로 출하가 운영되는 상품들의 데이터가 매우 부족하거나 없는 상황에, ML 모델이 퍼포먼스를 발휘하지 못하는 기간 동안 충분한 효과를 보였다.
<br><br> 이 과정에서 얻은 레쓴런을 먼저 정리해보면 다음과 같다. :
> * EDA는 역시 중요하다. 데이터 특성을 파악하지 않고, 그저 좋은 모델이라서 사용하는 우를 범하지 말자.
> * 하이퍼파라미터의 튜닝은 사후 평가의 관점에서도 가능하다. 단, 경험적 성능 추정에 가까우므로, 일반화 성능은 보장되지 않는다. 
> * 비즈니스 관점에서, 모델의 복잡도가 높은 것이 불리할 수 있으며 때로는 간단한 모델이 효과적일 수 있다.

<img src="/assets/img/atm_presentation.jpeg" width="300px" height="240px" alt="atm"></img>

이 글을 작성한 뒤 지난 2025년 2월에는 우리 본부 내 ATM(All Teams Meeting) 행사에서 연사로 나서 발표를 진행하기도 했다.
<br> 글을 쓴 시점에 비해 또 몇가지 상황이 바뀌었기 때문에, PP센터가 아닌 자동화센터(NE.O)를 기준으로 설명했다.
<br> 발표 내용을 정리하면 다음과 같다 :



